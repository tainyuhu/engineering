{"version":3,"file":"static/js/832.42f5dc3d.js","mappings":"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","sources":["webpack://frontend/./src/api/apiService.js","webpack://frontend/./src/api/planService.js","webpack://frontend/./src/views/Fillin_Progress.vue","webpack://frontend/./src/views/Fillin_Progress.vue?a93a"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// 創建 Axios 實例\r\nconst apiClient = axios.create({\r\n  baseURL: \"/\",\r\n  // baseURL: process.env.VUE_APP_API_BASE_URL, // 設置所有 Axios 請求的基本 URL。\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// 請求攔截器\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    // 檢查本地存取是否有 token\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    // 如果有 token，則添加道請求頭部\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    // 返回配置\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // 處理請求錯誤\r\n    console.error(\"Request error:\", error);\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 響應攔截器\r\napiClient.interceptors.response.use(\r\n  (response) => {\r\n    // 處理響應數據\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // 響應錯誤處理\r\n    if (error.response && error.response.status === 401) {\r\n      // 處理401未認證的錯誤，重訂定位到登入頁面\r\n      window.location.href = \"/login\";\r\n    }\r\n\r\n    // 顯示全局錯誤的消息\r\n    // alert(`錯誤提醒: ${error.message},請截圖回報管理人員`);\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;\r\n","import apiClient from \"./apiService\";\r\n\r\nconst fetchMeeting = () => {\r\n  return apiClient.get(\"/api/v1/meetingrecord/\");\r\n};\r\n\r\nconst fetchFile = () => {\r\n  return apiClient.get(\"/api/v1/fileprogress/\");\r\n};\r\n\r\nconst fetchFilePhase = () => {\r\n  return apiClient.get(\"/api/v1/fileprogressphase/\");\r\n};\r\n\r\nconst fetchPlans = () => {\r\n  return apiClient.get(\"/api/v1/plans/\");\r\n};\r\n\r\nconst fetchProjects = () => {\r\n  return apiClient.get(\"/api/v1/projects/\");\r\n};\r\n\r\nconst fetchCasesByLoop = (loopid) => {\r\n  return apiClient.get(`/api/v1/project-cases/${loopid}/`);\r\n};\r\n\r\nconst fetchLoopsByProject = (projectid) => {\r\n  return apiClient.get(`/api/v1/project-loops-by-project/${projectid}/`);\r\n};\r\n\r\nexport {\r\n  fetchPlans,\r\n  fetchProjects,\r\n  fetchCasesByLoop,\r\n  fetchLoopsByProject,\r\n  fetchFile,\r\n  fetchMeeting,\r\n  fetchFilePhase,\r\n};\r\n","<template>\r\n  <v-container>\r\n      <!-- 瀏覽計畫進度標題 -->\r\n      <div class=\"mb-3\" style=\"padding-left: 20px; display: flex; align-items: center;\">\r\n          <v-icon color=\"blue\">mdi-chevron-right-box</v-icon>\r\n          <span class=\"font-weight-bold ml-2\">填寫計畫進度：</span>\r\n          <span class=\"ml-1 note-span\">※在下方選擇一項計畫後，才會顯示計畫內容</span>\r\n      </div>\r\n\r\n      <!-- 選擇計畫 -->\r\n      <div class=\"mb-3\" style=\"padding-left: 40px; display: flex; align-items: center;\">\r\n          <v-icon color=\"orange\">mdi-chevron-right-box</v-icon>\r\n          <span class=\"font-weight-bold ml-2\">選擇計畫：</span>\r\n          <v-select\r\n          label=\"選擇欲瀏覽的計畫\"\r\n          variant=\"underlined\"\r\n          class=\"ml-3\"\r\n          :items=\"plan\" \r\n          item-title=\"plan_name\" \r\n          item-value=\"plan_id\" \r\n          v-model=\"selectedPlan\"\r\n          style=\"flex-grow: 1;\"\r\n          ></v-select>\r\n      </div>\r\n\r\n      <div>\r\n          <v-row v-if=\"selectedPlan && filteredProjects.length > 0\" class=\"project-cards-row\">\r\n              <v-col v-for=\"project in filteredProjects\" :key=\"project.project_id\" cols=\"12\" sm=\"6\" md=\"4\">\r\n                  <v-card :color=\"getProjectCardInfo(project.project_name).color\" class=\"project-card\" dark >\r\n                      <v-card-title class=\"d-flex font-weight-bold flex-column align-items-center justify-content-center card-title-custom\">\r\n                          <v-icon :icon=\"getProjectCardInfo(project.project_name).icon\" class=\"icon-background mb-2\" :color=\"getProjectCardInfo(project.project_name).color\"></v-icon>\r\n                          {{ getProjectCardInfo(project.project_name).title }}\r\n                      </v-card-title>\r\n                      <v-divider></v-divider>\r\n                      <v-card-actions class=\"justify-end\">\r\n                          <template v-if=\"project.project_name === '案場'\">\r\n                              <v-btn :color=\"getProjectCardInfo(project.project_name).color\" class=\"mt-auto font-weight-bold btn-custom\" @click=\"navigateToProject(getProjectCardInfo(project.project_name).routeName, project.project_id)\">紀錄PV進度</v-btn>\r\n                              <v-btn :color=\"getProjectCardInfo(project.project_name).color\" class=\"mt-auto font-weight-bold btn-custom\" @click=\"navigateToProject(getProjectCardInfo(project.project_name).routeName1, project.project_id)\">紀錄養殖進度</v-btn>\r\n                          </template>\r\n                          <template v-else>\r\n                              <v-btn :color=\"getProjectCardInfo(project.project_name).color\" class=\"mt-auto font-weight-bold btn-custom\" @click=\"navigateToProject(getProjectCardInfo(project.project_name).routeName, project.project_id)\">紀錄進度</v-btn>\r\n                          </template>\r\n                      </v-card-actions>\r\n                  </v-card>\r\n              </v-col>\r\n          </v-row>\r\n\r\n          <v-row v-else-if=\"selectedPlan\">\r\n              <p>此計畫沒有其他專案項目。</p>\r\n          </v-row>\r\n\r\n      </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { fetchPlans, fetchProjects } from '@/api/planService';\r\nexport default {\r\n  data() {\r\n    return {\r\n      plan: [],//所有計畫\r\n      project: [],//所有專案\r\n      selectedPlan: null,//所選中計畫\r\n      currentDialog: null, //顯示當前對話框\r\n    };\r\n  },\r\n  computed: {\r\n      // 根據所選項目過濾專案\r\n      filteredProjects() {\r\n      // 如果沒有選中則回覆空數列\r\n      if (!this.selectedPlan) return [];\r\n      // 返回有相同plan_id的專案項目\r\n      return this.project.filter(projects => projects.plan_id === this.selectedPlan);\r\n      }\r\n  },\r\n  async created() {\r\n      await this.fetchData();\r\n  },\r\n  methods: {\r\n      navigateToProject(projectRouteName, project) {\r\n        console.log('api response:', this.selectedPlan);\r\n          this.$router.push({ name: projectRouteName, query: { Plan: this.selectedPlan, Project: project } });\r\n      },\r\n      async fetchData() {\r\n          try {\r\n              const plansResponse = await fetchPlans();\r\n              const projectsResponse = await fetchProjects();\r\n              console.log('api response:', plansResponse.data);\r\n              console.log('api response:', projectsResponse.data);\r\n              this.plan = plansResponse.data;\r\n              this.project = projectsResponse.data;\r\n          } catch (error) {\r\n              \r\n          }\r\n      },\r\n      getProjectCardInfo(projectName) {\r\n      // 根據項目名稱反應對應的名稱\r\n      const projectInfo = {\r\n          '案場': { title: '案場工程進度', color: '#00b894', icon: 'mdi-pier', routeName: 'PV_Progress', routeName1: 'Project_Breeding' },\r\n          '22.8KV': { title: '22.8KV工程進度', color: '#a29bfe', icon: 'mdi-axis-arrow', routeName: 'Powerline_228KV_Details' },\r\n          '電業申辦': { title: '電業申辦進度', color: '#FF6F00', icon: 'mdi-flash-alert', routeName: 'Electricity_Application_Process' },\r\n          '161KV': { title: '161KV工程進度', color: '#ff7675', icon: 'mdi-alpha-t-box-outline', routeName: 'High-Voltage-161KV-Info' },\r\n          '升壓站': { title: '升壓站工程進度', color: '#38ada9', icon: 'mdi-sprinkler-variant', routeName: 'Booster_Station_Progress' },\r\n      };\r\n      return projectInfo[projectName] || {};\r\n      },\r\n  }\r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.v-container {\r\npadding-left: 0px;\r\nmax-width: 100%;\r\n}\r\n\r\n.v-icon {\r\nfont-size: 35px; \r\n}\r\n\r\n.note-span{\r\ncolor: #6c757d;\r\nfont-size: 11px;\r\n}\r\n\r\n.project-cards-row {\r\nmargin: 20px;\r\n}\r\n\r\n.project-card {\r\n height: 180px;\r\n border-radius: 16px;\r\n display: flex;\r\n flex-direction: column;\r\n justify-content: space-between;\r\n}\r\n\r\n.icon-background {\r\nbackground-color: white;\r\nborder-radius: 50%;\r\nbox-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\r\npadding: 25px;\r\nmargin-right: 16px;\r\n}\r\n\r\n.v-card-actions {\r\npadding-right: 20px;\r\n}\r\n\r\n.v-divider {\r\nborder-width: 1px;\r\n}\r\n\r\n.card-title-custom {\r\n  height: 120px;\r\n  display: flex;\r\n  margin-top: 10px;\r\n  font-size: 20px;\r\n}\r\n\r\n.btn-custom {\r\nheight: 30px;\r\nbackground-color: #FFFFFF; \r\ntransition: box-shadow 0.3s ease;\r\nmargin-bottom: 10px;\r\n}\r\n\r\n.btn-custom:hover {\r\n  box-shadow: 0px 5px 15px rgba(0,0,0,0.3);\r\n}\r\n</style>\r\n\r\n","import { render } from \"./Fillin_Progress.vue?vue&type=template&id=83ab667a&scoped=true\"\nimport script from \"./Fillin_Progress.vue?vue&type=script&lang=js\"\nexport * from \"./Fillin_Progress.vue?vue&type=script&lang=js\"\n\nimport \"./Fillin_Progress.vue?vue&type=style&index=0&id=83ab667a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-83ab667a\"]])\n\nexport default __exports__"],"names":["apiClient","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","console","Promise","reject","response","status","window","location","href","fetchMeeting","get","fetchFile","fetchFilePhase","fetchPlans","fetchProjects","fetchLoopsByProject","projectid","class","style","_createElementVNode","_createBlock","_component_v_container","_hoisted_1","_createVNode","_component_v_icon","color","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_v_select","label","variant","items","$data","plan","selectedPlan","$event","$options","filteredProjects","length","_component_v_row","_createElementBlock","_Fragment","_renderList","project","_component_v_col","key","project_id","cols","sm","md","_component_v_card","getProjectCardInfo","project_name","dark","_component_v_card_title","icon","_toDisplayString","title","_component_v_divider","_component_v_card_actions","_component_v_btn","onClick","navigateToProject","routeName","routeName1","_hoisted_6","data","currentDialog","computed","this","filter","projects","plan_id","created","fetchData","methods","projectRouteName","log","$router","push","name","query","Plan","Project","plansResponse","projectsResponse","projectName","projectInfo","__exports__","render"],"sourceRoot":""}