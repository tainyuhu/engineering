"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[529],{9022:function(e,t,a){var r=a(5121);const l=r.Z.create({baseURL:"/",headers:{"Content-Type":"application/json"}});l.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>(console.error("Request error:",e),Promise.reject(e)))),l.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(window.location.href="/login"),Promise.reject(e)))),t.Z=l},440:function(e,t,a){a.d(t,{ZQ:function(){return s},bl:function(){return c},dc:function(){return n},ky:function(){return o},m0:function(){return d},z:function(){return l}});var r=a(9022);const l=()=>r.Z.get("/api/v1/meetingrecord/"),n=()=>r.Z.get("/api/v1/fileprogress/"),o=()=>r.Z.get("/api/v1/fileprogressphase/"),s=()=>r.Z.get("/api/v1/plans/"),c=()=>r.Z.get("/api/v1/projects/"),d=e=>r.Z.get(`/api/v1/project-loops-by-project/${e}/`)},7307:function(e,t,a){a.d(t,{Z:function(){return _}});var r=a(6252),l=a(3577),n=a(9095),o=a(7737);const s=e=>((0,r.dD)("data-v-1a20d846"),e=e(),(0,r.Cn)(),e),c={class:"sidebar",style:{flex:"2",margin:"20px",display:"flex","flex-direction":"column",height:"500px"}},d={class:"mb-3",style:{"padding-left":"20px","align-items":"center"}},i=s((()=>(0,r._)("span",{class:"font-weight-bold ml-2"},"選擇案場：",-1))),u=s((()=>(0,r._)("div",null,[(0,r._)("span",{class:"ml-1 note-span"},"※可以透過點選取消與選擇案場")],-1))),g={style:{"overflow-y":"auto"}};function p(e,t,a,s,p,w){const h=(0,r.up)("Chart");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",c,[(0,r._)("div",d,[(0,r.Wm)(o.t,{color:"green"},{default:(0,r.w5)((()=>[(0,r.Uk)("mdi-chevron-right-box")])),_:1}),i,u,(0,r._)("div",null,[(0,r.Wm)(n.T,{small:"",color:"primary",onClick:w.selectAllPvs},{default:(0,r.w5)((()=>[(0,r.Uk)("全選")])),_:1},8,["onClick"]),(0,r.Wm)(n.T,{small:"",color:"error",style:{"margin-left":"5px"},onClick:w.deselectAllPvs},{default:(0,r.w5)((()=>[(0,r.Uk)("全部取消")])),_:1},8,["onClick"])])]),(0,r._)("div",g,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.uniquePvNames,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.name,style:{"flex-grow":"1",margin:"5px"}},[(0,r.Wm)(n.T,{block:"",rounded:"0",class:(0,l.C_)({selected:w.isPvSelected(e.name),deselected:!w.isPvSelected(e.name)}),style:(0,l.j5)(w.isPvSelected(e.name)?{background:e.color,color:"white"}:{background:"white",color:e.color,border:`1px solid ${e.color}`}),onClick:t=>w.selectPv(e.name)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.name),1)])),_:2},1032,["class","style","onClick"])])))),128))])]),Object.keys(a.chartData).length>0?((0,r.wg)(),(0,r.j4)(h,{key:0,chartData:a.chartData,chartOptions:p.chartOptions,style:{flex:"8","margin-top":"25px"}},null,8,["chartData","chartOptions"])):(0,r.kq)("",!0)],64)}var w=a(3388),h={components:{Chart:w.Z},props:{chartData:Object},computed:{uniquePvNames(){const e=new Map;return this.chartData.datasets&&this.chartData.datasets.forEach((t=>{const a=t.label.split(" ")[0],r=t.borderColor;e.has(a)||e.set(a,r)})),Array.from(e).map((([e,t])=>({name:e,color:t})))}},methods:{selectPv(e){this.chartData.datasets.forEach((t=>{t.label.startsWith(e)&&(t.hidden=!t.hidden)}))},isPvSelected(e){const t=this.chartData.datasets.find((t=>t.label.startsWith(e)));return!t.hidden},selectAllPvs(){this.chartData.datasets.forEach((e=>{e.hidden=!1}))},deselectAllPvs(){this.chartData.datasets.forEach((e=>{e.hidden=!0}))}},data(){return{chartOptions:{bezierCurve:!1,responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"",font:{weight:"bolder",size:18}},subtitle:{display:!0,text:"",color:"#ED4C67",font:{weight:"bolder",size:16}},datalabels:{display:!0,color:"#000",align:"end",anchor:"end",font:{weight:"bolder"}},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y.toFixed(2)+"%"),t}}},legend:{display:!1}},scales:{y:{ticks:{callback:function(e){return e+"%"}}}}}}}},f=a(3744);const m=(0,f.Z)(h,[["render",p],["__scopeId","data-v-1a20d846"]]);var _=m},18:function(e,t,a){a.d(t,{Z:function(){return h}});var r=a(6252),l=a(3577),n=a(7737),o=a(2762);const s=e=>((0,r.dD)("data-v-e24cab88"),e=e(),(0,r.Cn)(),e),c=s((()=>(0,r._)("th",{rowspan:"2"},"項目 / 週間",-1))),d={class:"font-weight-bold"},i={class:"expected"};function u(e,t,a,s,u,g){return(0,r.wg)(),(0,r.j4)(o.Y,null,{default:(0,r.w5)((()=>[(0,r._)("thead",null,[(0,r._)("tr",null,[c,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.quarterSummary,((e,t)=>((0,r.wg)(),(0,r.iD)("th",{key:t,class:(0,l.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"}," 【"+(0,l.zw)(e.year)+" Q"+(0,l.zw)(e.quarter)+"】 第"+(0,l.zw)(e.week)+"周 ",3)))),128))]),(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.allDateRanges,((e,t)=>((0,r.wg)(),(0,r.iD)("th",{key:t,class:(0,l.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"},[(0,r.Uk)((0,l.zw)(e)+" ",1),0===t?((0,r.wg)(),(0,r.j4)(n.t,{key:0,color:"yellow"},{default:(0,r.w5)((()=>[(0,r.Uk)("mdi-new-box")])),_:1})):(0,r.kq)("",!0)],2)))),128))])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.quarterTableData,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.pv_name},[(0,r._)("td",d,(0,l.zw)(e.pv_name),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.date_ranges,(e=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("td",{style:(0,l.j5)(e.records[0].expected>e.records[0].actual?{"font-weight":"bold",color:"red"}:{})},(0,l.zw)(g.formatPercentage(e.records[0].actual)),5),(0,r._)("td",i,(0,l.zw)(g.formatPercentage(e.records[0].expected)),1)],64)))),256))])))),128))])])),_:1})}var g={props:{allDateRanges:Array,quarterSummary:Array,quarterTableData:Array},methods:{formatPercentage(e){return`${(100*Number(e)).toFixed(2)}%`}}},p=a(3744);const w=(0,p.Z)(g,[["render",u],["__scopeId","data-v-e24cab88"]]);var h=w},8834:function(e,t,a){a.d(t,{Z:function(){return h}});var r=a(6252),l=a(3577),n=a(7737),o=a(2762);const s=e=>((0,r.dD)("data-v-8755531e"),e=e(),(0,r.Cn)(),e),c=s((()=>(0,r._)("th",{rowspan:"2"},"項目 / 週間",-1))),d={class:"font-weight-bold"},i={class:"expected"};function u(e,t,a,s,u,g){return(0,r.wg)(),(0,r.j4)(o.Y,null,{default:(0,r.w5)((()=>[(0,r._)("thead",null,[(0,r._)("tr",null,[c,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.quarterSummary,((e,t)=>((0,r.wg)(),(0,r.iD)("th",{key:t,class:(0,l.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"}," 【"+(0,l.zw)(e.year)+" Q"+(0,l.zw)(e.quarter)+"】 第"+(0,l.zw)(e.week)+"周 ",3)))),128))]),(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.allDateRanges,((e,t)=>((0,r.wg)(),(0,r.iD)("th",{key:t,class:(0,l.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"},[(0,r.Uk)((0,l.zw)(e)+" ",1),0===t?((0,r.wg)(),(0,r.j4)(n.t,{key:0,color:"yellow"},{default:(0,r.w5)((()=>[(0,r.Uk)("mdi-new-box")])),_:1})):(0,r.kq)("",!0)],2)))),128))])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.TableData,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.pv_name},[(0,r._)("td",d,(0,l.zw)(e.pv_name),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.date_ranges,(e=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("td",{style:(0,l.j5)(e.records[0].expected>e.records[0].actual?{"font-weight":"bold",color:"red"}:{})},(0,l.zw)(g.formatPercentage(e.records[0].actual)),5),(0,r._)("td",i,(0,l.zw)(g.formatPercentage(e.records[0].expected)),1)],64)))),256))])))),128))])])),_:1})}var g={props:{allDateRanges:Array,quarterSummary:Array,TableData:Array},methods:{formatPercentage(e){return`${(100*Number(e)).toFixed(2)}%`}}},p=a(3744);const w=(0,p.Z)(g,[["render",u],["__scopeId","data-v-8755531e"]]);var h=w},9199:function(e,t,a){a.d(t,{Z:function(){return h}});var r=a(6252),l=a(3577),n=a(7737),o=a(2762);const s=e=>((0,r.dD)("data-v-63e7fe77"),e=e(),(0,r.Cn)(),e),c=s((()=>(0,r._)("th",null,"項目 / 週間",-1))),d={class:"font-weight-bold"},i={class:"expected"};function u(e,t,a,s,u,g){return(0,r.wg)(),(0,r.j4)(o.Y,null,{default:(0,r.w5)((()=>[(0,r._)("thead",null,[(0,r._)("tr",null,[c,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.allDateRanges,((e,t)=>((0,r.wg)(),(0,r.iD)("th",{key:t,class:(0,l.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"},[(0,r.Uk)((0,l.zw)(e)+" ",1),0===t?((0,r.wg)(),(0,r.j4)(n.t,{key:0,color:"yellow"},{default:(0,r.w5)((()=>[(0,r.Uk)("mdi-new-box")])),_:1})):(0,r.kq)("",!0)],2)))),128))])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.weekTableData,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.pv_name},[(0,r._)("td",d,(0,l.zw)(e.pv_name),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.date_ranges,(e=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("td",{style:(0,l.j5)(e.records[0].expected>e.records[0].actual?{"font-weight":"bold",color:"red"}:{})},(0,l.zw)(g.formatPercentage(e.records[0].actual)),5),(0,r._)("td",i,(0,l.zw)(g.formatPercentage(e.records[0].expected)),1)],64)))),256))])))),128))])])),_:1})}var g={props:{allDateRanges:Array,weekTableData:Array},methods:{formatPercentage(e){return`${(100*Number(e)).toFixed(2)}%`}}},p=a(3744);const w=(0,p.Z)(g,[["render",u],["__scopeId","data-v-63e7fe77"]]);var h=w}}]);
//# sourceMappingURL=529.35026144.js.map