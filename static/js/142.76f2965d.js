"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[142],{7307:function(e,t,a){a.d(t,{Z:function(){return _}});var l=a(6252),r=a(3577),n=a(9095),o=a(7737);const s=e=>((0,l.dD)("data-v-1a20d846"),e=e(),(0,l.Cn)(),e),c={class:"sidebar",style:{flex:"2",margin:"20px",display:"flex","flex-direction":"column",height:"500px"}},d={class:"mb-3",style:{"padding-left":"20px","align-items":"center"}},i=s((()=>(0,l._)("span",{class:"font-weight-bold ml-2"},"選擇案場：",-1))),u=s((()=>(0,l._)("div",null,[(0,l._)("span",{class:"ml-1 note-span"},"※可以透過點選取消與選擇案場")],-1))),w={style:{"overflow-y":"auto"}};function g(e,t,a,s,g,p){const h=(0,l.up)("Chart");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l.Wm)(o.t,{color:"green"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-chevron-right-box")])),_:1}),i,u,(0,l._)("div",null,[(0,l.Wm)(n.T,{small:"",color:"primary",onClick:p.selectAllPvs},{default:(0,l.w5)((()=>[(0,l.Uk)("全選")])),_:1},8,["onClick"]),(0,l.Wm)(n.T,{small:"",color:"error",style:{"margin-left":"5px"},onClick:p.deselectAllPvs},{default:(0,l.w5)((()=>[(0,l.Uk)("全部取消")])),_:1},8,["onClick"])])]),(0,l._)("div",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.uniquePvNames,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.name,style:{"flex-grow":"1",margin:"5px"}},[(0,l.Wm)(n.T,{block:"",rounded:"0",class:(0,r.C_)({selected:p.isPvSelected(e.name),deselected:!p.isPvSelected(e.name)}),style:(0,r.j5)(p.isPvSelected(e.name)?{background:e.color,color:"white"}:{background:"white",color:e.color,border:`1px solid ${e.color}`}),onClick:t=>p.selectPv(e.name)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.name),1)])),_:2},1032,["class","style","onClick"])])))),128))])]),Object.keys(a.chartData).length>0?((0,l.wg)(),(0,l.j4)(h,{key:0,chartData:a.chartData,chartOptions:g.chartOptions,style:{flex:"8","margin-top":"25px"}},null,8,["chartData","chartOptions"])):(0,l.kq)("",!0)],64)}var p=a(3388),h={components:{Chart:p.Z},props:{chartData:Object},computed:{uniquePvNames(){const e=new Map;return this.chartData.datasets&&this.chartData.datasets.forEach((t=>{const a=t.label.split(" ")[0],l=t.borderColor;e.has(a)||e.set(a,l)})),Array.from(e).map((([e,t])=>({name:e,color:t})))}},methods:{selectPv(e){this.chartData.datasets.forEach((t=>{t.label.startsWith(e)&&(t.hidden=!t.hidden)}))},isPvSelected(e){const t=this.chartData.datasets.find((t=>t.label.startsWith(e)));return!t.hidden},selectAllPvs(){this.chartData.datasets.forEach((e=>{e.hidden=!1}))},deselectAllPvs(){this.chartData.datasets.forEach((e=>{e.hidden=!0}))}},data(){return{chartOptions:{bezierCurve:!1,responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"",font:{weight:"bolder",size:18}},subtitle:{display:!0,text:"",color:"#ED4C67",font:{weight:"bolder",size:16}},datalabels:{display:!0,color:"#000",align:"end",anchor:"end",font:{weight:"bolder"}},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y.toFixed(2)+"%"),t}}},legend:{display:!1}},scales:{y:{ticks:{callback:function(e){return e+"%"}}}}}}}},m=a(3744);const b=(0,m.Z)(h,[["render",g],["__scopeId","data-v-1a20d846"]]);var _=b},3406:function(e,t,a){a.d(t,{Z:function(){return h}});var l=a(6252),r=a(3577),n=a(7737),o=a(2762);const s=e=>((0,l.dD)("data-v-0725b15c"),e=e(),(0,l.Cn)(),e),c=s((()=>(0,l._)("th",{rowspan:"2"},"項目 / 週間",-1))),d={class:"font-weight-bold"},i={class:"expected"};function u(e,t,a,s,u,w){return(0,l.wg)(),(0,l.j4)(o.Y,null,{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[c,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.quarterSummary,((e,t)=>((0,l.wg)(),(0,l.iD)("th",{key:t,class:(0,r.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"}," 【"+(0,r.zw)(e.year)+" Q"+(0,r.zw)(e.quarter)+"】 第"+(0,r.zw)(e.week)+"周 ",3)))),128))]),(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.allDateRanges,((e,t)=>((0,l.wg)(),(0,l.iD)("th",{key:t,class:(0,r.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"},[(0,l.Uk)((0,r.zw)(e)+" ",1),0===t?((0,l.wg)(),(0,l.j4)(n.t,{key:0,color:"yellow"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-new-box")])),_:1})):(0,l.kq)("",!0)],2)))),128))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.quarterTableData,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.loop_name},[(0,l._)("td",d,(0,r.zw)(e.loop_name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.date_ranges,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("td",{style:(0,r.j5)(e.records[0].expected>e.records[0].actual?{"font-weight":"bold",color:"red"}:{})},(0,r.zw)(w.formatPercentage(e.records[0].actual)),5),(0,l._)("td",i,(0,r.zw)(w.formatPercentage(e.records[0].expected)),1)],64)))),256))])))),128))])])),_:1})}var w={props:{allDateRanges:Array,quarterSummary:Array,quarterTableData:Array},created(){console.log("this.quarterTableData",this.quarterTableData)},methods:{formatPercentage(e){return`${(100*Number(e)).toFixed(2)}%`}}},g=a(3744);const p=(0,g.Z)(w,[["render",u],["__scopeId","data-v-0725b15c"]]);var h=p},9729:function(e,t,a){a.d(t,{Z:function(){return h}});var l=a(6252),r=a(3577),n=a(7737),o=a(2762);const s=e=>((0,l.dD)("data-v-1240b716"),e=e(),(0,l.Cn)(),e),c=s((()=>(0,l._)("th",{rowspan:"2"},"項目 / 週間",-1))),d={class:"font-weight-bold"},i={class:"expected"};function u(e,t,a,s,u,w){return(0,l.wg)(),(0,l.j4)(o.Y,null,{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[c,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.quarterSummary,((e,t)=>((0,l.wg)(),(0,l.iD)("th",{key:t,class:(0,r.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"}," 【"+(0,r.zw)(e.year)+" Q"+(0,r.zw)(e.quarter)+"】 第"+(0,r.zw)(e.week)+"周 ",3)))),128))]),(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.allDateRanges,((e,t)=>((0,l.wg)(),(0,l.iD)("th",{key:t,class:(0,r.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"},[(0,l.Uk)((0,r.zw)(e)+" ",1),0===t?((0,l.wg)(),(0,l.j4)(n.t,{key:0,color:"yellow"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-new-box")])),_:1})):(0,l.kq)("",!0)],2)))),128))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.TableData,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.loop_name},[(0,l._)("td",d,(0,r.zw)(e.loop_name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.date_ranges,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("td",{style:(0,r.j5)(e.records[0].expected>e.records[0].actual?{"font-weight":"bold",color:"red"}:{})},(0,r.zw)(w.formatPercentage(e.records[0].actual)),5),(0,l._)("td",i,(0,r.zw)(w.formatPercentage(e.records[0].expected)),1)],64)))),256))])))),128))])])),_:1})}var w={props:{allDateRanges:Array,quarterSummary:Array,TableData:Array},methods:{formatPercentage(e){return`${(100*Number(e)).toFixed(2)}%`}}},g=a(3744);const p=(0,g.Z)(w,[["render",u],["__scopeId","data-v-1240b716"]]);var h=p},7319:function(e,t,a){a.d(t,{Z:function(){return h}});var l=a(6252),r=a(3577),n=a(7737),o=a(2762);const s=e=>((0,l.dD)("data-v-488b7e7b"),e=e(),(0,l.Cn)(),e),c=s((()=>(0,l._)("th",null,"項目 / 週間",-1))),d={class:"font-weight-bold"},i={class:"expected"};function u(e,t,a,s,u,w){return(0,l.wg)(),(0,l.j4)(o.Y,null,{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[c,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.allDateRanges,((e,t)=>((0,l.wg)(),(0,l.iD)("th",{key:t,class:(0,r.C_)({"special-bg":0===t,"normal-bg":0!==t}),colspan:"2"},[(0,l.Uk)((0,r.zw)(e)+" ",1),0===t?((0,l.wg)(),(0,l.j4)(n.t,{key:0,color:"yellow"},{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-new-box")])),_:1})):(0,l.kq)("",!0)],2)))),128))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.weekTableData,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.loop_name},[(0,l._)("td",d,(0,r.zw)(e.loop_name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.date_ranges,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("td",{style:(0,r.j5)(e.records[0].expected>e.records[0].actual?{"font-weight":"bold",color:"red"}:{})},(0,r.zw)(w.formatPercentage(e.records[0].actual)),5),(0,l._)("td",i,(0,r.zw)(w.formatPercentage(e.records[0].expected)),1)],64)))),256))])))),128))])])),_:1})}var w={props:{allDateRanges:Array,weekTableData:Array},methods:{formatPercentage(e){return`${(100*Number(e)).toFixed(2)}%`}}},g=a(3744);const p=(0,g.Z)(w,[["render",u],["__scopeId","data-v-488b7e7b"]]);var h=p}}]);
//# sourceMappingURL=142.76f2965d.js.map